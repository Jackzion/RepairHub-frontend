{"openapi":"3.0.1","info":{"title":"接口文档","description":"这是项目的接口文档描述","version":"1.0"},"servers":[{"url":"http://localhost:8886","description":"Generated server url"}],"paths":{"/repairs/{repairId}/complete":{"put":{"tags":["repairs-controller"],"operationId":"completeRepair","parameters":[{"name":"repairId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseRepairs"}}}}}}},"/repairs/{repairId}/assign/{maintainerId}":{"put":{"tags":["repairs-controller"],"operationId":"assignRepair","parameters":[{"name":"repairId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"maintainerId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseRepairs"}}}}}}},"/repairs/{repairId}/accept":{"put":{"tags":["repairs-controller"],"operationId":"acceptRepair","parameters":[{"name":"repairId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseRepairs"}}}}}}},"/repairs/status/update":{"put":{"tags":["repairs-controller"],"operationId":"updateRepairStatus","parameters":[{"name":"repairId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"status","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseRepairs"}}}}}}},"/repairs/priority":{"put":{"tags":["repairs-controller"],"operationId":"updatePriority","parameters":[{"name":"repairId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"priority","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseRepairs"}}}}}}},"/repairs/force-close":{"put":{"tags":["repairs-controller"],"operationId":"forceCloseRepair","parameters":[{"name":"repairId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/repair-records/{recordId}":{"put":{"tags":["repair-records-controller"],"operationId":"updateRecord","parameters":[{"name":"recordId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"content","in":"query","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseRepairRecords"}}}}}},"delete":{"tags":["repair-records-controller"],"operationId":"deleteRecord","parameters":[{"name":"recordId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/user/update":{"post":{"tags":["user-controller"],"operationId":"updateUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/user/register":{"post":{"tags":["user-controller"],"operationId":"userRegister","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegisterRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseUsers"}}}}}}},"/user/logout":{"post":{"tags":["user-controller"],"operationId":"userLogout","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/user/login":{"post":{"tags":["user-controller"],"operationId":"userLogin","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseUsers"}}}}}}},"/user/ban":{"post":{"tags":["user-controller"],"operationId":"banUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BanUserRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/repairs/submit":{"post":{"tags":["repairs-controller"],"operationId":"submitRepair","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepairsSubmitRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseRepairs"}}}}}}},"/repair-records/{repairId}":{"get":{"tags":["repair-records-controller"],"operationId":"getRepairRecords","parameters":[{"name":"repairId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"current","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":1}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseIPageRepairRecords"}}}}}},"post":{"tags":["repair-records-controller"],"operationId":"addRecord","parameters":[{"name":"repairId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"type","in":"query","required":true,"schema":{"type":"string"}},{"name":"content","in":"query","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseRepairRecords"}}}}}}},"/user/get/login":{"get":{"tags":["user-controller"],"operationId":"getLoginUser","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseUsers"}}}}}}},"/repairs/user":{"get":{"tags":["repairs-controller"],"operationId":"getUserRepairs","parameters":[{"name":"status","in":"query","required":false,"schema":{"type":"string"}},{"name":"current","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":1}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseIPageRepairs"}}}}}}},"/repairs/get":{"get":{"tags":["repairs-controller"],"operationId":"getRepairsById","parameters":[{"name":"repairId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseRepairs"}}}}}}},"/repairs/getUserRepairs":{"get":{"tags":["repairs-controller"],"operationId":"getUserRepairs_1","parameters":[{"name":"status","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseListRepairs"}}}}}}},"/repairs/getRepairRecord":{"get":{"tags":["repairs-controller"],"operationId":"getRepairRecord","parameters":[{"name":"repairId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseRepairRecords"}}}}}}},"/repairs/cancelPendingRepair":{"get":{"tags":["repairs-controller"],"operationId":"cancelPendingRepair","parameters":[{"name":"repairId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/locations/all":{"get":{"tags":["location-controller"],"operationId":"getAllLocations","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseListLocations"}}}}}}},"/equipmentTypes/list":{"get":{"tags":["equipment-types-controller"],"operationId":"getEquipmentTypes","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseString[]"}}}}}}}},"components":{"schemas":{"BaseResponseRepairs":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/components/schemas/Repairs"},"message":{"type":"string"}}},"Repairs":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"type":{"type":"string"},"location":{"type":"object"},"locationDetail":{"type":"string"},"priority":{"type":"object"},"description":{"type":"string"},"status":{"type":"object"},"creatorId":{"type":"integer","format":"int32"},"maintainerId":{"type":"integer","format":"int32"},"images":{"type":"object"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"BaseResponseBoolean":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"boolean"},"message":{"type":"string"}}},"BaseResponseRepairRecords":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/components/schemas/RepairRecords"},"message":{"type":"string"}}},"RepairRecords":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"repairId":{"type":"integer","format":"int32"},"type":{"type":"object"},"content":{"type":"string"},"images":{"type":"object"},"handlerId":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"}}},"UpdateUserRequest":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"avatar":{"type":"string"},"phone":{"type":"string"},"email":{"type":"string"},"department":{"type":"string"}}},"UserRegisterRequest":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"},"name":{"type":"string"},"phone":{"type":"string"},"department":{"type":"string"},"role":{"type":"integer","format":"int32"}}},"BaseResponseUsers":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/components/schemas/Users"},"message":{"type":"string"}}},"Users":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"username":{"type":"string"},"password":{"type":"string"},"name":{"type":"string"},"avatar":{"type":"string"},"role":{"type":"integer","format":"int32"},"phone":{"type":"string"},"email":{"type":"string"},"department":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"isDelete":{"type":"integer","format":"int32"}}},"UserLoginRequest":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"},"role":{"type":"string"}}},"BanUserRequest":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"role":{"type":"integer","format":"int32"}}},"RepairsSubmitRequest":{"type":"object","properties":{"type":{"type":"string"},"location":{"type":"object"},"locationDetail":{"type":"string"},"priority":{"type":"object"},"description":{"type":"string"},"status":{"type":"object"},"creatorId":{"type":"integer","format":"int32"},"maintainerId":{"type":"integer","format":"int32"},"images":{"type":"object"}}},"BaseResponseIPageRepairs":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/components/schemas/IPageRepairs"},"message":{"type":"string"}}},"IPageRepairs":{"type":"object","properties":{"size":{"type":"integer","format":"int64"},"records":{"type":"array","items":{"$ref":"#/components/schemas/Repairs"}},"current":{"type":"integer","format":"int64"},"total":{"type":"integer","format":"int64"},"pages":{"type":"integer","format":"int64","deprecated":true}}},"BaseResponseListRepairs":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"array","items":{"$ref":"#/components/schemas/Repairs"}},"message":{"type":"string"}}},"BaseResponseIPageRepairRecords":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/components/schemas/IPageRepairRecords"},"message":{"type":"string"}}},"IPageRepairRecords":{"type":"object","properties":{"size":{"type":"integer","format":"int64"},"records":{"type":"array","items":{"$ref":"#/components/schemas/RepairRecords"}},"current":{"type":"integer","format":"int64"},"total":{"type":"integer","format":"int64"},"pages":{"type":"integer","format":"int64","deprecated":true}}},"BaseResponseListLocations":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"array","items":{"$ref":"#/components/schemas/Locations"}},"message":{"type":"string"}}},"Locations":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"parentId":{"type":"integer","format":"int32"},"name":{"type":"string"},"level":{"type":"integer","format":"int32"},"path":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"BaseResponseString[]":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"array","items":{"type":"string"}},"message":{"type":"string"}}}}},"x-openapi":{"x-setting":{"customCode":200,"language":"zh-CN","enableSwaggerModels":true,"swaggerModelName":"Swagger Models","enableReloadCacheParameter":false,"enableAfterScript":true,"enableDocumentManage":true,"enableVersion":false,"enableRequestCache":true,"enableFilterMultipartApis":false,"enableFilterMultipartApiMethodType":"POST","enableHost":false,"enableHostText":"","enableDynamicParameter":false,"enableDebug":true,"enableFooter":true,"enableFooterCustom":false,"enableSearch":true,"enableOpenApi":true,"enableHomeCustom":false,"enableGroup":true,"enableResponseCode":true},"x-markdownFiles":[]}}