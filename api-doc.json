{"openapi":"3.0.1","info":{"title":"接口文档","description":"这是项目的接口文档描述","version":"1.0"},"servers":[{"url":"http://localhost:8886","description":"Generated server url"}],"paths":{"/repairs/{repairId}/complete":{"put":{"tags":["repairs-controller"],"operationId":"completeRepair","parameters":[{"name":"repairId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseRepairs"}}}}}}},"/repairs/{repairId}/assign/{maintainerId}":{"put":{"tags":["repairs-controller"],"operationId":"assignRepair","parameters":[{"name":"repairId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"maintainerId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseRepairs"}}}}}}},"/repairs/{repairId}/accept":{"put":{"tags":["repairs-controller"],"operationId":"acceptRepair","parameters":[{"name":"repairId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseRepairs"}}}}}}},"/repairs/status/update":{"put":{"tags":["repairs-controller"],"operationId":"updateRepairStatus","parameters":[{"name":"repairId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"status","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseRepairs"}}}}}}},"/repairs/priority":{"put":{"tags":["repairs-controller"],"operationId":"updatePriority","parameters":[{"name":"repairId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"priority","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseRepairs"}}}}}}},"/repairs/force-close":{"put":{"tags":["repairs-controller"],"operationId":"forceCloseRepair","parameters":[{"name":"repairId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/repair-records/{recordId}":{"put":{"tags":["repair-records-controller"],"operationId":"updateRecord","parameters":[{"name":"recordId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"content","in":"query","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseRepairRecords"}}}}}},"delete":{"tags":["repair-records-controller"],"operationId":"deleteRecord","parameters":[{"name":"recordId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/rating/add":{"put":{"tags":["rating-controller"],"operationId":"addRating","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddRatingRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/notification/read":{"put":{"tags":["notification-controller"],"operationId":"setRead","parameters":[{"name":"notificationId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/notification/readAll":{"put":{"tags":["notification-controller"],"operationId":"setReadAll","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/notification/delete":{"put":{"tags":["notification-controller"],"operationId":"deleteNotification","parameters":[{"name":"notificationId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/notification/deleteAll":{"put":{"tags":["notification-controller"],"operationId":"deleteAll","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/notification/create":{"put":{"tags":["notification-controller"],"operationId":"createNotification","parameters":[{"name":"notificationRequest","in":"query","required":true,"schema":{"$ref":"#/components/schemas/AddNotificationRequest"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/equipmentTypes/add":{"put":{"tags":["equipment-types-controller"],"operationId":"addEquipmentTypes","parameters":[{"name":"name","in":"query","required":true,"schema":{"type":"string"}},{"name":"description","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/equipment/update":{"put":{"tags":["equipment-controller"],"operationId":"updateEquipments","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EquipmentUpdateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/equipment/add":{"put":{"tags":["equipment-controller"],"operationId":"addEquipment","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EquipmentAddRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/user/update":{"post":{"tags":["user-controller"],"operationId":"updateUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/user/register":{"post":{"tags":["user-controller"],"operationId":"userRegister","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegisterRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseUsers"}}}}}}},"/user/logout":{"post":{"tags":["user-controller"],"operationId":"userLogout","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/user/login":{"post":{"tags":["user-controller"],"operationId":"userLogin","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseUsers"}}}}}}},"/user/ban":{"post":{"tags":["user-controller"],"operationId":"banUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BanUserRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/repairs/submit":{"post":{"tags":["repairs-controller"],"operationId":"submitRepair","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepairsSubmitRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseRepairs"}}}}}}},"/repair-records/{repairId}":{"get":{"tags":["repair-records-controller"],"operationId":"getRepairRecords","parameters":[{"name":"repairId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"current","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":1}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseIPageRepairRecords"}}}}}},"post":{"tags":["repair-records-controller"],"operationId":"addRecord","parameters":[{"name":"repairId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"type","in":"query","required":true,"schema":{"type":"string"}},{"name":"content","in":"query","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseRepairRecords"}}}}}}},"/equipment/delete":{"post":{"tags":["equipment-controller"],"operationId":"deleteEquipments","parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/user/get/login":{"get":{"tags":["user-controller"],"operationId":"getLoginUser","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseUsers"}}}}}}},"/repairs/user":{"get":{"tags":["repairs-controller"],"operationId":"getUserRepairs","parameters":[{"name":"status","in":"query","required":false,"schema":{"type":"string"}},{"name":"current","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":1}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseIPageRepairs"}}}}}}},"/repairs/get":{"get":{"tags":["repairs-controller"],"operationId":"getRepairsById","parameters":[{"name":"repairId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseRepairs"}}}}}}},"/repairs/getUserRepairs":{"get":{"tags":["repairs-controller"],"operationId":"getUserRepairs_1","parameters":[{"name":"status","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseRepairsResVo"}}}}}}},"/repairs/getRepairRecord":{"get":{"tags":["repairs-controller"],"operationId":"getRepairRecord","parameters":[{"name":"repairId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseRepairRecords"}}}}}}},"/repairs/cancelPendingRepair":{"get":{"tags":["repairs-controller"],"operationId":"cancelPendingRepair","parameters":[{"name":"repairId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/rating/statistics":{"get":{"tags":["rating-controller"],"operationId":"getRatingStatistics","parameters":[{"name":"timeRange","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseRatingResVo"}}}}}}},"/rating/exist":{"get":{"tags":["rating-controller"],"operationId":"isExistRating","parameters":[{"name":"repairId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/notification/myList":{"get":{"tags":["notification-controller"],"operationId":"getMyList","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseListNotifications"}}}}}}},"/locations/all":{"get":{"tags":["location-controller"],"operationId":"getAllLocations","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseListLocations"}}}}}}},"/equipmentTypes/list":{"get":{"tags":["equipment-types-controller"],"operationId":"getEquipmentTypes","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseString[]"}}}}}}},"/equipment/list":{"get":{"tags":["equipment-controller"],"operationId":"listEquipments","parameters":[{"name":"status","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseListEquipments"}}}}}}}},"components":{"schemas":{"BaseResponseRepairs":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/components/schemas/Repairs"},"message":{"type":"string"}}},"Repairs":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"type":{"type":"string"},"location":{"type":"object"},"locationDetail":{"type":"string"},"priority":{"type":"object"},"description":{"type":"string"},"status":{"type":"object"},"creatorId":{"type":"integer","format":"int32"},"maintainerId":{"type":"integer","format":"int32"},"images":{"type":"object"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"BaseResponseBoolean":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"boolean"},"message":{"type":"string"}}},"BaseResponseRepairRecords":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/components/schemas/RepairRecords"},"message":{"type":"string"}}},"RepairRecords":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"repairId":{"type":"integer","format":"int32"},"type":{"type":"object"},"content":{"type":"string"},"images":{"type":"object"},"handlerId":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"}}},"AddRatingRequest":{"type":"object","properties":{"repairId":{"type":"integer","format":"int32"},"score":{"type":"integer","format":"int32"},"content":{"type":"string"},"userId":{"type":"integer","format":"int32"}}},"AddNotificationRequest":{"type":"object","properties":{"type":{"type":"object"},"title":{"type":"string"},"content":{"type":"string"},"senderId":{"type":"integer","format":"int32"},"receiverId":{"type":"integer","format":"int32"}}},"EquipmentUpdateRequest":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"model":{"type":"string"},"location":{"type":"object"},"status":{"type":"object"},"description":{"type":"string"}}},"EquipmentAddRequest":{"type":"object","properties":{"type":{"type":"string"},"model":{"type":"string"},"location":{"type":"object"},"status":{"type":"object"},"qrCode":{"type":"string"},"description":{"type":"string"}}},"UpdateUserRequest":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"avatar":{"type":"string"},"phone":{"type":"string"},"email":{"type":"string"},"department":{"type":"string"}}},"UserRegisterRequest":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"},"name":{"type":"string"},"phone":{"type":"string"},"department":{"type":"string"},"role":{"type":"integer","format":"int32"}}},"BaseResponseUsers":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/components/schemas/Users"},"message":{"type":"string"}}},"Users":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"username":{"type":"string"},"password":{"type":"string"},"name":{"type":"string"},"avatar":{"type":"string"},"role":{"type":"integer","format":"int32"},"phone":{"type":"string"},"email":{"type":"string"},"department":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"isDelete":{"type":"integer","format":"int32"}}},"UserLoginRequest":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"},"role":{"type":"string"}}},"BanUserRequest":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"role":{"type":"integer","format":"int32"}}},"RepairsSubmitRequest":{"type":"object","properties":{"type":{"type":"string"},"location":{"type":"object"},"locationDetail":{"type":"string"},"priority":{"type":"object"},"description":{"type":"string"},"status":{"type":"object"},"creatorId":{"type":"integer","format":"int32"},"maintainerId":{"type":"integer","format":"int32"},"images":{"type":"object"}}},"BaseResponseIPageRepairs":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/components/schemas/IPageRepairs"},"message":{"type":"string"}}},"IPageRepairs":{"type":"object","properties":{"size":{"type":"integer","format":"int64"},"records":{"type":"array","items":{"$ref":"#/components/schemas/Repairs"}},"current":{"type":"integer","format":"int64"},"pages":{"type":"integer","format":"int64","deprecated":true},"total":{"type":"integer","format":"int64"}}},"BaseResponseRepairsResVo":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/components/schemas/RepairsResVo"},"message":{"type":"string"}}},"RepairsResVo":{"type":"object","properties":{"repairsList":{"type":"array","items":{"$ref":"#/components/schemas/Repairs"}},"repairsStatistics":{"$ref":"#/components/schemas/RepairsStatistics"}}},"RepairsStatistics":{"type":"object","properties":{"pending":{"type":"integer","format":"int32"},"processing":{"type":"integer","format":"int32"},"completed":{"type":"integer","format":"int32"},"pendingPercentage":{"type":"integer","format":"int32"},"processingPercentage":{"type":"integer","format":"int32"},"completedPercentage":{"type":"integer","format":"int32"}}},"BaseResponseIPageRepairRecords":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/components/schemas/IPageRepairRecords"},"message":{"type":"string"}}},"IPageRepairRecords":{"type":"object","properties":{"size":{"type":"integer","format":"int64"},"records":{"type":"array","items":{"$ref":"#/components/schemas/RepairRecords"}},"current":{"type":"integer","format":"int64"},"pages":{"type":"integer","format":"int64","deprecated":true},"total":{"type":"integer","format":"int64"}}},"BaseResponseRatingResVo":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/components/schemas/RatingResVo"},"message":{"type":"string"}}},"RatingDistribution":{"type":"object","properties":{"rating":{"type":"integer","format":"int32"},"count":{"type":"integer","format":"int32"},"percentage":{"type":"number","format":"double"}}},"RatingResVo":{"type":"object","properties":{"ratingsList":{"type":"array","items":{"$ref":"#/components/schemas/RepairRatings"}},"averageScore":{"type":"number","format":"double"},"totalRatings":{"type":"integer","format":"int32"},"satisfactionRate":{"type":"integer","format":"int32"},"ratingDistribution":{"type":"array","items":{"$ref":"#/components/schemas/RatingDistribution"}}}},"RepairRatings":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"repairId":{"type":"integer","format":"int32"},"score":{"type":"integer","format":"int32"},"content":{"type":"string"},"userId":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"}}},"BaseResponseListNotifications":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"array","items":{"$ref":"#/components/schemas/Notifications"}},"message":{"type":"string"}}},"Notifications":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"type":{"type":"object"},"title":{"type":"string"},"content":{"type":"string"},"senderId":{"type":"integer","format":"int32"},"receiverId":{"type":"integer","format":"int32"},"isRead":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"}}},"BaseResponseListLocations":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"array","items":{"$ref":"#/components/schemas/Locations"}},"message":{"type":"string"}}},"Locations":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"parentId":{"type":"integer","format":"int32"},"name":{"type":"string"},"level":{"type":"integer","format":"int32"},"path":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"BaseResponseString[]":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"array","items":{"type":"string"}},"message":{"type":"string"}}},"BaseResponseListEquipments":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"array","items":{"$ref":"#/components/schemas/Equipments"}},"message":{"type":"string"}}},"Equipments":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"type":{"type":"string"},"model":{"type":"string"},"location":{"type":"object"},"status":{"type":"object"},"qrCode":{"type":"string"},"description":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}}}},"x-openapi":{"x-setting":{"customCode":200,"language":"zh-CN","enableSwaggerModels":true,"swaggerModelName":"Swagger Models","enableReloadCacheParameter":false,"enableAfterScript":true,"enableDocumentManage":true,"enableVersion":false,"enableRequestCache":true,"enableFilterMultipartApis":false,"enableFilterMultipartApiMethodType":"POST","enableHost":false,"enableHostText":"","enableDynamicParameter":false,"enableDebug":true,"enableFooter":true,"enableFooterCustom":false,"enableSearch":true,"enableOpenApi":true,"enableHomeCustom":false,"enableGroup":true,"enableResponseCode":true},"x-markdownFiles":[]}}